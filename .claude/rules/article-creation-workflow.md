# 記事作成完了時の必須チェックルール

**このルールは必ず守ること。**

記事を作成または大幅に編集した場合、作業を完了とする前に以下のチェックを**Claude Code自身が実行**すること。
ユーザーに「チェックしてください」と促すのではなく、**自動的にチェックを実行**すること。

---

## 必須チェックフロー

記事作成/編集が完了したら、以下の順序でチェックを実行する：

### 1. 炎上リスクチェック（必須・ブロッキング）

```text
/check-controversy を実行
```

**判定基準:**

- 🔴 高リスクが1件でもある → **修正必須**（修正するまで完了としない）
- 🟡 中リスクがある → 修正を提案し、ユーザーに確認
- 🟢 低リスクのみ → 通過

### 2. 記事レビュー（必須）

```text
/review-article を実行
```

**判定基準:**

- 総合評価 ⭐⭐⭐☆☆ 以下 → 改善点を提示し、修正を提案
- 優先度「高」の指摘がある → 修正を強く推奨

### 3. 校正チェック（必須）

```text
/proofread を実行
```

**判定基準:**

- 誤字脱字・表記ゆれを検出 → 自動修正または修正提案

---

## チェック完了後のアクション

すべてのチェックが完了したら：

1. **チェック結果のサマリーを報告**
   - 検出された問題の概要
   - 修正した内容
   - 残っている警告（あれば）

2. **プレビュー確認を促す**

   ```text
   npx zenn-cli preview でプレビュー確認をお勧めします。
   http://localhost:8000 で確認できます。
   ```

3. **公開手順を案内**（ユーザーが公開を希望した場合のみ）
   - `published: true` への変更
   - コミット＆プッシュ

---

## 適用タイミング

以下の作業を行った場合に適用：

- [ ] 新規記事の作成
- [ ] 既存記事の大幅な編集（構成変更、セクション追加など）
- [ ] ユーザーから「記事を書いて」「記事を作成して」と依頼された場合

**適用しないケース:**

- 軽微な修正（typo修正、1-2行の修正）
- Front Matterのみの変更
- 画像の追加のみ

---

## 実行例

```markdown
## 作業完了報告

記事を作成しました。品質チェックを実行します。

### 1. 炎上リスクチェック

[/check-controversy 実行結果]
→ 🟢 高リスク: 0件、中リスク: 1件（修正済み）

### 2. 記事レビュー

[/review-article 実行結果]
→ 総合評価: ⭐⭐⭐⭐☆
→ 改善点: 〇〇（対応済み）

### 3. 校正チェック

[/proofread 実行結果]
→ 表記ゆれ1件を修正

### 結果サマリー

- 炎上リスク: なし
- 品質: 良好
- 校正: 完了

プレビュー確認をお勧めします: http://localhost:8000
```

---

## 重要な注意事項

1. **チェックをスキップしない**
   - 「時間がない」「軽微な記事だから」等の理由でスキップしない
   - チェック自体は数秒で完了する

2. **高リスク検出時は必ず修正**
   - 🔴 高リスクが検出された場合、修正するまで作業完了としない
   - ユーザーが「そのままでいい」と言っても、リスクを説明して修正を推奨

3. **チェック結果は透明に報告**
   - 検出された問題は隠さず報告
   - 修正内容も明示
